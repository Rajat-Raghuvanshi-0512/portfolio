{"version":3,"file":"FileInputButton.js","names":["HiddenInput","styled","input","Label","label","FileInputButton","onSelect","props","inputId","useId","inputRef","useRef","handleSelect","useCallback","event","target","files","handleButtonClick","current","click","width"],"sources":["../../src/components/FileInputButton.tsx"],"sourcesContent":["import {useId} from '@reach/auto-id'\nimport {type ButtonProps, Button} from '@sanity/ui'\nimport React, {useCallback, useRef} from 'react'\nimport styled from 'styled-components'\n\nconst HiddenInput = styled.input`\n  overflow: hidden;\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n`\n\nconst Label = styled.label`\n  position: relative;\n`\n\nexport interface FileInputButtonProps extends ButtonProps {\n  onSelect: (files: FileList) => void\n}\nexport const FileInputButton = ({onSelect, ...props}: FileInputButtonProps) => {\n  const inputId = `FileSelect${useId()}`\n  const inputRef = useRef<HTMLInputElement>(null)\n  const handleSelect = useCallback<React.ChangeEventHandler<HTMLInputElement>>(\n    (event) => {\n      if (onSelect) {\n        onSelect(event.target.files!)\n      }\n    },\n    [onSelect]\n  )\n  const handleButtonClick = useCallback(() => inputRef.current?.click(), [])\n  return (\n    <Label htmlFor={inputId}>\n      <HiddenInput\n        accept=\"video/*\"\n        ref={inputRef}\n        tabIndex={0}\n        type=\"file\"\n        id={inputId}\n        onChange={handleSelect}\n        value=\"\"\n      />\n      <Button\n        onClick={handleButtonClick}\n        mode=\"default\"\n        tone=\"primary\"\n        style={{width: '100%'}}\n        {...props}\n      />\n    </Label>\n  )\n}\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtC,IAAMA,WAAW,GAAGC,yBAAM,CAACC,KAAK,qLAO/B;AAED,IAAMC,KAAK,GAAGF,yBAAM,CAACG,KAAK,gGAEzB;AAKM,IAAMC,eAAe,GAAG,QAAgD;EAAA,IAA9CC,QAAQ,QAARA,QAAQ;IAAKC,KAAK;EACjD,IAAMC,OAAO,uBAAgB,IAAAC,aAAK,GAAE,CAAE;EACtC,IAAMC,QAAQ,GAAG,IAAAC,aAAM,EAAmB,IAAI,CAAC;EAC/C,IAAMC,YAAY,GAAG,IAAAC,kBAAW,EAC7BC,KAAK,IAAK;IACT,IAAIR,QAAQ,EAAE;MACZA,QAAQ,CAACQ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAE;IAC/B;EACF,CAAC,EACD,CAACV,QAAQ,CAAC,CACX;EACD,IAAMW,iBAAiB,GAAG,IAAAJ,kBAAW,EAAC;IAAA;IAAA,4BAAMH,QAAQ,CAACQ,OAAO,sDAAhB,kBAAkBC,KAAK,EAAE;EAAA,GAAE,EAAE,CAAC;EAC1E,oBACE,6BAAC,KAAK;IAAC,OAAO,EAAEX;EAAQ,gBACtB,6BAAC,WAAW;IACV,MAAM,EAAC,SAAS;IAChB,GAAG,EAAEE,QAAS;IACd,QAAQ,EAAE,CAAE;IACZ,IAAI,EAAC,MAAM;IACX,EAAE,EAAEF,OAAQ;IACZ,QAAQ,EAAEI,YAAa;IACvB,KAAK,EAAC;EAAE,EACR,eACF,6BAAC,UAAM;IACL,OAAO,EAAEK,iBAAkB;IAC3B,IAAI,EAAC,SAAS;IACd,IAAI,EAAC,SAAS;IACd,KAAK,EAAE;MAACG,KAAK,EAAE;IAAM;EAAE,GACnBb,KAAK,EACT,CACI;AAEZ,CAAC;AAAA"}