"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateJwt = generateJwt;
var _jsonwebtoken = require("jsonwebtoken");
function generateJwt(playbackId, signingKeyId, signingKeyPrivate, aud, payload) {
  var privateKey = Buffer.from(signingKeyPrivate, 'base64');
  return (0, _jsonwebtoken.sign)(payload ? JSON.parse(JSON.stringify(payload, (_, v) => v !== null && v !== void 0 ? v : undefined)) : {}, privateKey, {
    algorithm: 'RS256',
    keyid: signingKeyId,
    audience: aud,
    subject: playbackId,
    noTimestamp: true,
    expiresIn: '12h'
  });
}
//# sourceMappingURL=generateJwt.js.map